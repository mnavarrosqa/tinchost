<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Sites â€“ Tinchost Panel</title>
  <style>
    * { box-sizing: border-box; }
    body { font-family: system-ui, sans-serif; margin: 0; background: #eef5ef; color: #1b4332; }
    .nav { background: #2d6a4f; color: #fff; padding: 0.75rem 1.5rem; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap; }
    .nav a { color: #d8f3dc; text-decoration: none; }
    .nav a:hover { color: #fff; }
    .nav .nav-right { margin-left: auto; }
    .nav .nav-active { color: #fff; font-weight: 600; }
    main { max-width: 960px; margin: 0 auto; padding: 1.5rem; background: #fff; min-height: 80vh; border: 1px solid #b7d4bc; border-top: none; }
    h1 { color: #1b4332; margin-top: 0; }
    table { width: 100%; border-collapse: collapse; }
    th, td { padding: 0.5rem 0.75rem; text-align: left; border-bottom: 1px solid #e8f5e9; }
    th { color: #2d6a4f; font-weight: 600; font-size: 0.875rem; }
    .btn { padding: 0.4rem 0.9rem; background: #2d6a4f; color: #fff; text-decoration: none; border: none; border-radius: 6px; font-size: 0.9rem; display: inline-flex; align-items: center; }
    .btn:hover { background: #1b4332; color: #fff; }
    .btn-secondary { background: #52796f; }
    .btn-secondary:hover { background: #354f52; }
    form.inline { display: inline; }
  </style>
</head>
<body>
  <nav class="nav">
    <a href="/">Dashboard</a>
    <a href="/sites" class="nav-active">Sites</a>
    <a href="/databases">Databases</a>
    <a href="/mail">Mail</a>
    <a href="/settings">Settings</a>
    <span class="nav-right"><a href="/auth/logout">Logout</a></span>
  </nav>
  <main>
    <h1>Sites</h1>
    <p><a href="/sites/new" class="btn">Add site</a></p>
    <table>
      <thead>
        <tr><th>Domain</th><th>Docroot</th><th>App</th><th>SSL</th><th>FTP</th><th></th></tr>
      </thead>
      <tbody>
        <% sites.forEach(function(s) {
          var appLabel = (s.app_type === 'node') ? ('Node :' + (s.node_port != null ? s.node_port : '')) : (s.php_version || 'PHP');
        %>
        <tr>
          <td><%= s.domain %></td>
          <td><%= s.docroot %></td>
          <td><%= appLabel %></td>
          <td><%= s.ssl ? 'Yes' : 'No' %></td>
          <td><%= s.ftp_enabled ? 'Yes' : 'No' %></td>
          <td>
            <a href="/sites/<%= s.id %>" class="btn">Manage</a>
            <a href="/sites/<%= s.id %>/edit" class="btn btn-secondary">Edit</a>
          </td>
        </tr>
        <% }); %>
        <% if (!sites.length) { %>
        <tr><td colspan="6">No sites yet. <a href="/sites/new">Add one</a>.</td></tr>
        <% } %>
      </tbody>
    </table>
  </main>
</body>
</html>
